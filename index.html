<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TXT Viewer</title>
</head>
<body>
  <h2>ğŸ“„ íŒŒì¼ ë‚´ìš©</h2>
<pre id="output">Loading...</pre>

<h2>ğŸš© FLAG í‘œì‹œ</h2>
<ul id="flags"></ul>

<script>
  const params = new URLSearchParams(window.location.search);
  const filePath = params.get('file');
  const flagString = params.get('flag'); // ex: "1010101010"

  // FLAG ë¶„í•´ í›„ ì¶œë ¥
  const flagList = document.getElementById('flags');
  if (flagString && flagString.length === 10) {
    [...flagString].forEach((char, index) => {
      const li = document.createElement('li');
      li.textContent = `FLAG ${index + 1}: ${char}`;
      flagList.appendChild(li);
    });
  } else {
    flagList.innerHTML = "<li>ì˜¬ë°”ë¥´ì§€ ì•Šì€ FLAG í˜•ì‹ì…ë‹ˆë‹¤ (ê¸¸ì´ 10 í•„ìš”)</li>";
  }

  // íŒŒì¼ ë‚´ìš© fetch
  if (filePath) {
    fetch(filePath)
      .then(res => {
        if (!res.ok) throw new Error("íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
        return res.text();
      })
      .then(text => {
        document.getElementById('output').textContent = text;
      })
      .catch(err => {
        document.getElementById('output').textContent = `ì—ëŸ¬: ${err.message}`;
      });
  } else {
    document.getElementById('output').textContent = 'file íŒŒë¼ë¯¸í„°ê°€ ì—†ìŠµë‹ˆë‹¤.';
  }
</script>
</body>
</html>