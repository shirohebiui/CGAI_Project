<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>TXT Viewer</title>
</head>

<body>
    <h2>ğŸ“„ íŒŒì¼ ë‚´ìš©</h2>
  <pre id="output">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</pre>
  <button id="nextBtn">ë‹¤ìŒ</button>

    <h2>ğŸš© FLAG í‘œì‹œ</h2>
    <ul id="flags"></ul>

    <script>
        const params = new URLSearchParams(window.location.search);
        const filePath = params.get('file');
        const flagString = params.get('flag'); // ex: "1010101010"
        const filenow = params.get('now'); // ex: "1010101010"
        /*
        nowëŠ” í”Œë˜ê·¸ ì§„í–‰ë‹¨ê³„
        ex)now 3ëŠ” flag3ë²ˆì§¸ë¥¼ ì°¸ì¡°í•˜ê³ ìˆë‹¤ëŠ”ëœ»
        flag 0~9ëŠ” ì§„í–‰ë‹¨ê³„
        a~zëŠ” ê²°ê³¼ ë‹¨ê³„
        */

        // FLAG ë¶„í•´ í›„ ì¶œë ¥
        let pages = [];  // $ë¡œ ë¶„í• ëœ í˜ì´ì§€ ì €ì¥
        let currentPage = 0;

        const output = document.getElementById('output');
        const nextBtn = document.getElementById('nextBtn');

        function showPage(index) {
            output.textContent = pages[index].trim();
            nextBtn.style.display = index < pages.length - 1 ? 'inline-block' : 'none';
        }

        if (filePath) {
            fetch(filePath)
                .then(res => {
                    if (!res.ok) throw new Error('íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                    return res.text();
                })
                .then(text => {
                    pages = text.split('$');
                    if (pages.length === 0) throw new Error('ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.');
                    showPage(currentPage);
                })
                .catch(err => {
                    output.textContent = `ì—ëŸ¬: ${err.message}`;
                });
        } else {
            output.textContent = 'file íŒŒë¼ë¯¸í„°ê°€ ì—†ìŠµë‹ˆë‹¤.';
        }

        nextBtn.addEventListener('click', () => {
            currentPage++;
            if (currentPage < pages.length) {
                showPage(currentPage);
            }
        });
    </script>
</body>

</html>