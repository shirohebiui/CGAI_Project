<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TXT Viewer</title>
</head>
<body>
  <h2>파일 내용</h2>
  <pre id="output">Loading...</pre>

  <h3>FLAG 목록</h3>
  <ul id="flags"></ul>

  <script>
    const params = new URLSearchParams(window.location.search);
    const filePath = params.get('file'); // ex: file=data/example.txt

    // FLAG 10개 출력
    const flagList = document.getElementById('flags');
    for (let i = 1; i <= 10; i++) {
      const flag = params.get(`flag${i}`);
      if (flag !== null) {
        const li = document.createElement('li');
        li.textContent = `FLAG ${i}: ${flag}`;
        flagList.appendChild(li);
      }
    }

    // txt 파일 불러오기
    if (filePath) {
      fetch(filePath)
        .then(response => {
          if (!response.ok) throw new Error('파일을 불러올 수 없습니다');
          return response.text();
        })
        .then(text => {
          document.getElementById('output').textContent = text;
        })
        .catch(err => {
          document.getElementById('output').textContent = `에러: ${err.message}`;
        });
    } else {
      document.getElementById('output').textContent = 'file 파라미터가 없습니다.';
    }
  </script>
</body>
</html>